{% extends 'base.html' %}
{% load static %}

{% block title %}{{ page.title }} - Mini CMS{% endblock %}

{% block content %}
    <div class="row">
        {# Treść strony na pełną szerokość, ponieważ spis treści został przeniesiony do menu bocznego #}
        <div class="col-md-12">
            <h1 class="mb-4">{{ page.title }}</h1>

            {% if page.header_image %}
                <img src="{{ page.header_image.url }}" class="img-fluid rounded mb-4" alt="{{ page.title }}" style="max-height: 400px; width: 100%; object-fit: cover;">
            {% endif %}

            {# Kontener z ID "page-content" jest kluczowy dla skryptu generującego spis treści #}
            <div id="page-content" class="page-content">
                {{ page.content|safe }}
            </div>
        </div>
    </div>

    {# PRZYCISK POWROTU NA GÓRĘ STRONY - POZOSTAJE TUTAJ #}
    {# Upewnij się, że ten przycisk jest ostylowany w style.css i ma odpowiednie pozycjonowanie #}
    <button id="back-to-top" class="btn btn-primary shadow" title="Powrót na górę">
        ^ {# Znak Unicode dla daszka/strzałki #}
    </button>
{% endblock content %}

{% block extra_body %}
    {# WAŻNE: Usunięto ładowanie skryptu 'table_of_contents.js', ponieważ jego funkcjonalność #}
    {# została przeniesiona i scalona z 'script.js', który jest ładowany w base.html. #}
{% endblock extra_body %}